<header class="sticky top-0 z-40 backdrop-blur-sm bg-bg/80 border-b border-border transition-all duration-300"
        x-data="{ mobileMenuOpen: false, userMenuOpen: false }"
        :class="{ 'shadow-sm': window.scrollY > 10 }">

  <div class="container flex items-center justify-between py-3">
    <!-- Logo -->
    <a href="/" class="flex items-center gap-2 group">
      <img src="/static/logo.svg" alt="Rules Central" class="h-8 w-auto transition-transform group-hover:scale-110">
      <span class="text-xl font-bold gradient-text bg-gradient-to-r from-primary-600 to-primary-400">Rules</span>
    </a>

    <!-- Desktop Nav -->
    <nav class="hidden md:flex items-center gap-1">
      <a href="/dashboard" class="nav-link">Dashboard</a>
      <a href="/rules" class="nav-link">Rules</a>
      <a href="/analytics" class="nav-link">Analytics</a>
    </nav>

    <!-- User Controls -->
    <div class="flex items-center gap-2">
      <!-- Theme Toggle -->
      <button @click="
        theme = theme === 'light' ? 'dark' : theme === 'dark' ? 'bear' : 'light'
      "
      class="p-2 rounded-lg hover:bg-bg-surface transition-colors"
      aria-label="Toggle theme">
        <template x-if="theme === 'light'">
          <i class="fas fa-moon text-text-muted"></i>
        </template>
        <template x-if="theme === 'dark'">
          <i class="fas fa-sun text-text-muted"></i>
        </template>
        <template x-if="theme === 'bear'">
          <i class="fas fa-paw text-text-muted"></i>
        </template>
      </button>

      <!-- User Menu -->
      <div class="relative">
        <button @click="userMenuOpen = !userMenuOpen"
                class="flex items-center gap-2 p-2 rounded-lg hover:bg-bg-surface transition-colors"
                aria-label="User menu">
          <div class="w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/50 flex items-center justify-center">
            <i class="fas fa-user text-primary-600 dark:text-primary-400 text-sm"></i>
          </div>
          <span class="hidden md:inline text-sm font-medium text-text-muted">Account</span>
        </button>
        
        <div x-show="userMenuOpen" 
             @click.outside="userMenuOpen = false"
             x-transition.origin.top.right
             class="absolute right-0 mt-2 w-48 bg-bg-elevated rounded-lg shadow-lg py-1 z-50 border border-border">
          <div class="px-4 py-3 border-b border-border">
            <p class="font-medium text-text-heading">Signed in as</p>
            <p class="text-sm text-text-muted truncate">user@example.com</p>
          </div>
          <a href="/profile" class="block px-4 py-2 text-sm text-text hover:bg-bg-surface">
            Your Profile
          </a>
          <a href="/logout" class="block px-4 py-2 text-sm text-text hover:bg-bg-surface">
            Sign Out
          </a>
        </div>
      </div>
    </div>
  </div>
</header>