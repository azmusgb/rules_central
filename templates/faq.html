{% extends "base.html" %}

{% block title %}FAQ | Rules Central{% endblock title %}
{% block description %}Quick answers to the most common Rules Central questions.{% endblock description %}

{% block content %}

<!-- =========================================================
     HERO
========================================================= -->
<header class="wrapper rc-container pt-24 pb-8 text-center space-y-4 rc-faq-hero">
  <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight leading-tight bg-gradient-to-br from-primary-500 to-primary-700 dark:from-primary-300 dark:to-primary-500 bg-clip-text text-transparent">
    Frequently Asked Questions
  </h1>
  <p class="text-base md:text-lg text-slate-600 dark:text-slate-300 max-w-xl mx-auto leading-relaxed">
    Quick answers, helpful links, and tips for getting the most out of Rules Central.
  </p>

  <!-- Quick contact + Expand / Collapse controls -->
  <div class="rc-faq-hero-actions">
    <a href="{{ url_for('main.contact') }}" class="rc-faq-contact">Contact Support</a>
    <button type="button" id="rc-faq-expand"   class="rc-faq-expand">Expand all</button>
    <button type="button" id="rc-faq-collapse" class="rc-faq-collapse">Collapse all</button>
  </div>

  <!-- Client-side filter -->
  <div class="rc-faq-filterwrap">
    <label for="rc-faq-filter" class="sr-only">Filter questions</label>
    <input id="rc-faq-filter"
           type="search"
           placeholder="Search questionsâ€¦"
           class="rc-faq-filter-input"
           autocomplete="off"
           spellcheck="false">
  </div>
</header>


<!-- =========================================================
     FAQ LIST
========================================================= -->
<section class="wrapper rc-container pb-32 rc-faq-listwrap" aria-label="FAQ list">
  <ul class="rc-faq-list" id="rc-faq-list" role="list">
    <!-- Q1 -->
    <li class="rc-faq-item" data-faq-text="what is rules central platform manage visualizing collaborating business rules">
      <details>
        <summary>
          <span class="rc-faq-q">What is Rules Central?</span>
        </summary>
        <div class="rc-faq-a">
          Rules Central is a platform for managing, visualizing, and collaborating on business rules across teams and systems.
        </div>
      </details>
    </li>

    <!-- Q2 -->
    <li class="rc-faq-item" data-faq-text="file types supported upload png jpg jpeg svg pdf mermaid json">
      <details>
        <summary>
          <span class="rc-faq-q">What file types are supported?</span>
        </summary>
        <div class="rc-faq-a">
          You can upload <code>PNG</code>, <code>JPG</code>/<code>JPEG</code>, <code>SVG</code>, or <code>PDF</code> diagrams. JSON + Mermaid (<code>.mmd</code>) exports are also accepted where available.
        </div>
      </details>
    </li>

    <!-- Q3 -->
    <li class="rc-faq-item" data-faq-text="view hierarchy relationships">
      <details>
        <summary>
          <span class="rc-faq-q">How do I view the hierarchy?</span>
        </summary>
        <div class="rc-faq-a">
          Open a diagram and click the <span class="rc-faq-accent">Hierarchy</span> button to explore rule relationships visually and navigate dependencies.
        </div>
      </details>
    </li>

    <!-- Q4 -->
    <li class="rc-faq-item" data-faq-text="export diagrams download image raw">
      <details>
        <summary>
          <span class="rc-faq-q">Can I export diagrams?</span>
        </summary>
        <div class="rc-faq-a">
          Yes. In the diagram viewer, use <strong>Export</strong> to download an image, a vector file, or the underlying rule data (where supported).
        </div>
      </details>
    </li>

    <!-- Q5 -->
    <li class="rc-faq-item" data-faq-text="share diagrams team link">
      <details>
        <summary>
          <span class="rc-faq-q">How do I share diagrams?</span>
        </summary>
        <div class="rc-faq-a">
          Open a diagram and copy its URL or click <strong>Share</strong> to generate a shareable link for teammates (permissions apply).
        </div>
      </details>
    </li>

    <!-- Q6 -->
    <li class="rc-faq-item" data-faq-text="api programmatic access documentation endpoints">
      <details>
        <summary>
          <span class="rc-faq-q">Is there an API?</span>
        </summary>
        <div class="rc-faq-a">
          Yes. See the <a href="{{ url_for('routes.full_help') }}#api" class="rc-faq-link">API section</a> in the documentation for authentication and endpoint details.
        </div>
      </details>
    </li>

    <!-- Q7 -->
    <li class="rc-faq-item" data-faq-text="get started signup upload first diagram dashboard">
      <details>
        <summary>
          <span class="rc-faq-q">How do I get started?</span>
        </summary>
        <div class="rc-faq-a">
          Sign up, upload your first diagram, and review the dashboard metrics for quick insights. The <a href="{{ url_for('routes.full_help') }}#getting-started" class="rc-faq-link">Get Started guide</a> walks through the basics.
        </div>
      </details>
    </li>

    <!-- Q8 -->
    <li class="rc-faq-item" data-faq-text="upload diagram drag drop browse files">
      <details>
        <summary>
          <span class="rc-faq-q">How do I upload a diagram?</span>
        </summary>
        <div class="rc-faq-a">
          Go to the <a href="{{ url_for('upload.upload_file') }}" class="rc-faq-link">Upload</a> page and drag &amp; drop your file, paste from clipboard, or browse from your computer.
        </div>
      </details>
    </li>

    <!-- Q9 -->
    <li class="rc-faq-item" data-faq-text="reset password forgot email">
      <details>
        <summary>
          <span class="rc-faq-q">How do I reset my password?</span>
        </summary>
        <div class="rc-faq-a">
          On the login page, click <span class="rc-faq-accent">Forgot password</span> and follow the emailed reset link.
        </div>
      </details>
    </li>

    <!-- Q10 -->
    <li class="rc-faq-item" data-faq-text="keyboard shortcut help shift slash">
      <details>
        <summary>
          <span class="rc-faq-q">Is there a keyboard shortcut for help?</span>
        </summary>
        <div class="rc-faq-a">
          Yes. Press <kbd>Shift</kbd> + <kbd>/</kbd> anywhere in the app to open the help overlay.
        </div>
      </details>
    </li>

    <!-- Q11 -->
    <li class="rc-faq-item" data-faq-text="customize diagram themes color settings">
      <details>
        <summary>
          <span class="rc-faq-q">Can I customize diagram themes?</span>
        </summary>
        <div class="rc-faq-a">
          Absolutely. Visit <a href="/settings" class="rc-faq-link">Settings</a> to create or modify themes (colors, shapes, and typography vary by plan).
        </div>
      </details>
    </li>

    <!-- Q12 -->
    <li class="rc-faq-item" data-faq-text="support documentation email contact">
      <details>
        <summary>
          <span class="rc-faq-q">Where can I get support?</span>
        </summary>
        <div class="rc-faq-a">
          Start with the <a href="{{ url_for('routes.full_help') }}" class="rc-faq-link">documentation</a>. Still stuck? Email <a href="mailto:support@rulescentral.com" class="rc-faq-link">support@rulescentral.com</a> or <a href="{{ url_for('main.contact') }}" class="rc-faq-link">contact us</a>.
        </div>
      </details>
    </li>
  </ul>
</section>

{% endblock content %}



{% block styles %}
{% endblock styles %}



{% block scripts %}
  {{ super() }}
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const list       = document.getElementById('rc-faq-list');
    const filter     = document.getElementById('rc-faq-filter');
    const expandBtn  = document.getElementById('rc-faq-expand');
    const collapseBtn= document.getElementById('rc-faq-collapse');

    const items = Array.from(list.querySelectorAll('.rc-faq-item'));

    /* --- Filter -------------------------------------------------- */
    function applyFilter(){
      const q = (filter.value || '').trim().toLowerCase();
      let visibleCount = 0;
      items.forEach(li=>{
        const hay = li.dataset.faqText;
        const show = !q || (hay && hay.toLowerCase().includes(q));
        li.classList.toggle('rc-faq-hidden', !show);
        if (show) visibleCount++;
      });
      // auto-collapse unmatched open details to save layout
      if (q){
        items.forEach(li=>{
          if (li.classList.contains('rc-faq-hidden')){
            const deets = li.querySelector('details[open]');
            if (deets) deets.open = false;
          }
        });
      }
      return visibleCount;
    }
    filter?.addEventListener('input', applyFilter);

    /* --- Expand / Collapse all ---------------------------------- */
    function setAll(open){
      items.forEach(li=>{
        const deets = li.querySelector('details');
        if (deets) deets.open = open;
      });
      expandBtn.style.display   = open ? 'none' : '';
      collapseBtn.style.display = open ? '' : 'none';
    }
    expandBtn?.addEventListener('click', ()=>setAll(true));
    collapseBtn?.addEventListener('click', ()=>setAll(false));

    /* initialize */
    applyFilter();
  });
  </script>
{% endblock scripts %}
