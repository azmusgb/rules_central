{% macro Nav() -%}
<nav class="sticky top-0 z-50 bg-surface-white dark:bg-ink-900 shadow-sm">
  <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-4">
    <a href="/" class="font-semibold text-lg">Rules Central</a>
    <ul class="hidden md:flex gap-8 text-sm">
      <li><a href="#features" class="hover:text-accent-red">Features</a></li>
      <li><a href="#pricing" class="hover:text-accent-red">Pricing</a></li>
      <li><a href="#contact" class="hover:text-accent-red">Contact</a></li>
    </ul>
    <button id="theme-toggle" class="ml-4 p-2 rounded focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-red" aria-label="Toggle theme" @click="toggleTheme()">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8.66-8.66h-1M4.34 12H3m13.07-5.07l-.71.71M6.64 17.36l-.71.71m11.07 0l-.71-.71M6.64 6.64l-.71-.71"/></svg>
    </button>
  </div>
</nav>
{%- endmacro %}

{% macro Hero() -%}
<section class="relative overflow-hidden bg-surface-shade dark:bg-ink-900 py-22">
  <div class="relative z-10 max-w-3xl mx-auto text-center px-4">
    <h1 class="text-4xl md:text-6xl font-bold mb-4">Rule management you\u2019ll love</h1>
    <p class="text-lg text-ink-600 dark:text-ink-400 mb-8">Organize and automate your rules with delightful simplicity.</p>
    <a href="#pricing" class="btn-primary inline-block">Get started free</a>
  </div>
  <div class="pointer-events-none absolute inset-0 flex justify-center">
    <img src="{{ url_for('static', filename='images/hero-macbook.webp') }}" alt="MacBook screenshot" class="hidden md:block w-1/2 max-w-lg shadow-soft absolute -top-10 left-1/2 -translate-x-1/2" loading="lazy">
    <img src="{{ url_for('static', filename='images/hero-iphone.webp') }}" alt="iPhone screenshot" class="w-1/4 max-w-xs shadow-soft absolute top-12 left-[10%]" loading="lazy">
    <img src="{{ url_for('static', filename='images/hero-ipad.webp') }}" alt="iPad screenshot" class="w-1/3 max-w-md shadow-soft absolute top-20 right-[10%]" loading="lazy">
  </div>
</section>
{%- endmacro %}

{% macro FeatureRow(title, body, image, bg='surface-white', reverse=false) -%}
<section class="py-22 bg-{{ bg }} dark:bg-ink-900">
  <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-16 px-4 {% if reverse %}md:flex-row-reverse{% endif %}">
    <div class="md:w-1/2">
      <h2 class="text-3xl font-semibold mb-4">{{ title }}</h2>
      <p class="text-lg text-ink-600 dark:text-ink-400 leading-relaxed">{{ body }}</p>
    </div>
    <img src="{{ url_for('static', filename=image) }}" alt="" class="md:w-1/2 w-full shadow-soft" loading="lazy">
  </div>
</section>
{%- endmacro %}

{% macro PriceCards() -%}
<section id="pricing" class="bg-surface-white dark:bg-ink-900 py-22">
  <div class="max-w-5xl mx-auto grid md:grid-cols-2 gap-8 px-4">
    <div class="border rounded-lg shadow-soft p-8 flex flex-col">
      <h3 class="text-xl font-semibold mb-4">Free</h3>
      <p class="text-4xl font-bold mb-6">$0</p>
      <ul class="flex-1 space-y-2 mb-6 text-ink-600 dark:text-ink-400">
        <li>Unlimited rules</li>
        <li>Community support</li>
      </ul>
      <a href="#" class="btn-primary mt-auto text-center">Get started</a>
    </div>
    <div class="border rounded-lg shadow-soft p-8 flex flex-col relative">
      <span class="absolute -top-3 right-3 bg-accent-red text-white text-xs px-2 py-1 rounded">Pro</span>
      <h3 class="text-xl font-semibold mb-4">Pro</h3>
      <p class="text-4xl font-bold mb-6">$12<span class="text-base font-normal">/mo</span></p>
      <ul class="flex-1 space-y-2 mb-6 text-ink-600 dark:text-ink-400">
        <li>Team collaboration</li>
        <li>Priority support</li>
        <li>PDF / PNG export</li>
      </ul>
      <a href="#" class="btn-primary mt-auto text-center">Start trial</a>
    </div>
  </div>
</section>
{%- endmacro %}

{% macro Footer() -%}
<footer id="contact" class="bg-surface-shade dark:bg-ink-900 text-sm mt-auto py-22">
  <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-8 px-4">
    <nav>
      <ul class="space-y-2">
        <li><a href="#features" class="hover:text-accent-red">Features</a></li>
        <li><a href="#pricing" class="hover:text-accent-red">Pricing</a></li>
        <li><a href="#contact" class="hover:text-accent-red">Contact</a></li>
      </ul>
    </nav>
    <form class="flex flex-col gap-4">
      <label for="newsletter" class="font-semibold">Newsletter</label>
      <input id="newsletter" type="email" required placeholder="you@example.com" class="px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-accent-red" />
      <button type="submit" class="btn-primary self-start">Subscribe</button>
    </form>
  </div>
</footer>
{%- endmacro %}

{% macro LogoRow() -%}
<section class="bg-surface-white dark:bg-ink-900 py-16" id="logos">
  <div class="max-w-7xl mx-auto flex justify-center gap-12 opacity-80 px-4">
    {% for logo in ['logo1.svg','logo2.svg','logo3.svg','logo4.svg'] %}
      <img src="{{ url_for('static', filename='images/' + logo) }}" alt="" class="h-16 w-auto grayscale" loading="lazy">
    {% endfor %}
  </div>
</section>
{%- endmacro %}
