{% extends "base.html" %}
{% block title %}Dashboard | Rules Central{% endblock %}

{% block content %}
<!-- Animated Hero Background -->
{% include 'partials/hero_bg.html' %}
<section class="relative z-10 mb-16 mt-10 flex flex-col items-center justify-center">
  <h1 class="text-6xl md:text-7xl font-extrabold mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-primary-500 via-accent-purple to-primary-500 animate-gradient-x drop-shadow-xl animate-fadeIn">
    Welcome to <span class="inline-block animate-bounce">Rules Central</span>
  </h1>
  <p class="text-2xl text-slate-300 mb-10 animate-fadeIn delay-100 text-center max-w-2xl">Your comprehensive, next-gen rules management platform. Experience the future of business logic.</p>
  <div class="flex flex-col sm:flex-row justify-center gap-6 mb-16 animate-fadeIn delay-200">
    <a href="/upload" class="inline-block px-10 py-4 rounded-2xl bg-gradient-to-r from-primary-500 to-accent-purple text-white font-bold shadow-xl hover:scale-105 hover:shadow-2xl transition-all text-xl focus:outline-none focus:ring-4 focus:ring-primary-500">Upload Now</a>
    <a href="/documentation" class="inline-block px-10 py-4 rounded-2xl bg-gradient-to-r from-accent-purple to-primary-500 text-white font-bold shadow-xl hover:scale-105 hover:shadow-2xl transition-all text-xl focus:outline-none focus:ring-4 focus:ring-accent-purple">Quick Start Guide</a>
  </div>
</section>

<section class="relative z-10">
  <h2 class="text-4xl font-bold mb-12 text-center tracking-tight animate-fadeIn">Key Performance Metrics</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 justify-center">
    <div class="bg-gradient-to-br from-dark-800 via-dark-900 to-dark-800 rounded-3xl shadow-2xl border border-dark-700 p-10 flex flex-col items-center hover:scale-105 transition-transform duration-200 glassmorphism group animate-fadeIn delay-100" tabindex="0" aria-label="Active Rules">
      <svg class="w-20 h-20 text-primary-500 mb-6 animate-bounce group-hover:animate-spin-slow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M13 16h-1v-4h-1m4 0h-1v-4h-1m4 0h-1v-4h-1m4 0h-1v-4h-1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <div class="text-5xl font-extrabold mb-2 countup" data-count="1234">0</div>
      <div class="text-slate-400 text-lg">Active Rules</div>
    </div>
    <div class="bg-gradient-to-br from-dark-800 via-dark-900 to-dark-800 rounded-3xl shadow-2xl border border-dark-700 p-10 flex flex-col items-center hover:scale-105 transition-transform duration-200 glassmorphism group animate-fadeIn delay-200" tabindex="0" aria-label="Users">
      <svg class="w-20 h-20 text-accent-purple mb-6 animate-pulse group-hover:animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-width="2"/><circle cx="12" cy="12" r="4" stroke-width="2"/></svg>
      <div class="text-5xl font-extrabold mb-2 countup" data-count="567">0</div>
      <div class="text-slate-400 text-lg">Users</div>
    </div>
    <div class="bg-gradient-to-br from-dark-800 via-dark-900 to-dark-800 rounded-3xl shadow-2xl border border-dark-700 p-10 flex flex-col items-center hover:scale-105 transition-transform duration-200 glassmorphism group animate-fadeIn delay-300" tabindex="0" aria-label="System Uptime">
      <svg class="w-20 h-20 text-primary-500 mb-6 animate-spin-slow group-hover:animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24"><rect x="4" y="12" width="16" height="8" rx="4" stroke-width="2"/><rect x="8" y="8" width="8" height="8" rx="4" stroke-width="2"/></svg>
      <div class="text-5xl font-extrabold mb-2 countup" data-count="99.9">0</div>
      <div class="text-slate-400 text-lg">System Uptime</div>
    </div>
  </div>
</section>

<!-- Floating Action Button -->
{% include 'partials/fab.html' %}

<!-- CountUp Animation Script -->
{% block scripts %}
{{ super() }}
<script>
  document.querySelectorAll('.countup').forEach(function(el) {
    const end = parseFloat(el.getAttribute('data-count'));
    let start = 0;
    let decimals = (end % 1 !== 0) ? 1 : 0;
    let duration = 1200;
    let startTime = null;
    function animateCountUp(ts) {
      if (!startTime) startTime = ts;
      let progress = Math.min((ts - startTime) / duration, 1);
      let value = start + (end - start) * progress;
      el.textContent = value.toLocaleString(undefined, { minimumFractionDigits: decimals, maximumFractionDigits: decimals });
      if (progress < 1) requestAnimationFrame(animateCountUp);
    }
    requestAnimationFrame(animateCountUp);
  });
</script>
{% endblock %}
{% endblock %}
