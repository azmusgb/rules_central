<!-- Modern Sidebar Navigation with Alpine.js Interactivity -->
<div x-data="{ open: false }" @keydown.window.escape="open = false">
  <!-- Sidebar -->
  <aside
    id="sidebar"
    class="fixed top-0 left-0 h-full w-64 bg-dark-900/95 backdrop-blur-xl shadow-2xl z-40 flex flex-col transition-transform duration-300 rounded-r-3xl transform md:translate-x-0"
    :class="{ '-translate-x-full': !open, 'translate-x-0': open }"
    aria-label="Sidebar Navigation"
    tabindex="-1"
    role="complementary"
  >
    <div class="flex items-center justify-between px-6 py-6">
      <span class="font-extrabold text-2xl tracking-tight text-white"
        >Menu</span
      >
      <button
        @click="open = false"
        class="text-2xl text-gray-400 hover:text-primary-500 focus:outline-none md:hidden"
        aria-label="Close sidebar"
      >
        &times;
      </button>
    </div>
    <nav
      class="flex-1 px-4"
      role="navigation"
      aria-label="Sidebar main navigation"
    >
      <ul class="space-y-2">
        <li>
          <a
            href="{{ url_for('main.index') }}"
            class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-primary-500/20 transition"
          >
            <svg
              class="w-5 h-5 text-primary-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0h6"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Home
          </a>
        </li>
        <li>
          <a
            href="{{ url_for('routes.catalog') }}"
            class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-primary-500/20 transition"
          >
            <svg
              class="w-5 h-5 text-primary-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M3 7v13h18V7H3zm5 8h2v2H8v-2zm0-4h2v2H8V11zm4 4h2v2h-2v-2zm0-4h2v2h-2V11zm4 4h2v2h-2v-2zm0-4h2v2h-2V11z"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Catalog
          </a>
        </li>
        <li>
          <a
            href="/upload"
            class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-primary-500/20 transition"
          >
            <svg
              class="w-5 h-5 text-primary-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5-5 5 5M12 15V3"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Upload
          </a>
        </li>
        <li>
          <a
            href="/search"
            class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-primary-500/20 transition"
          >
            <svg
              class="w-5 h-5 text-primary-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M21 21l-4.35-4.35M17 11A6 6 0 105 11a6 6 0 0012 0z"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Search
          </a>
        </li>
        <li>
          <a
            href="/settings"
            class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-primary-500/20 transition"
          >
            <svg
              class="w-5 h-5 text-primary-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Settings
          </a>
        </li>
        <li>
          <a
            href="/faq"
            class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-primary-500/20 transition"
          >
            <svg
              class="w-5 h-5 text-primary-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M8 10h.01M12 14h.01M16 10h.01M21 12c0 4.418-4.03 8-9 8s-9-3.582-9-8 4.03-8 9-8 9 3.582 9 8z"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            FAQ
          </a>
        </li>
        <li>
          <a
            href="{{ url_for('main.about') }}"
            class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-primary-500/20 transition"
          >
            <svg
              class="w-5 h-5 text-primary-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            About
          </a>
        </li>
        <li>
          <a
            href="{{ url_for('main.contact') }}"
            class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-primary-500/20 transition"
          >
            <svg
              class="w-5 h-5 text-primary-500"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Contact
          </a>
        </li>
      </ul>
    </nav>
    <div class="mt-auto pt-6 pb-4 text-xs text-center text-gray-400">
      &copy; {{ year or 2025 }} Rules Central
    </div>
  </aside>
  <!-- Sidebar Backdrop for mobile -->
  <div
    class="fixed inset-0 bg-black/40 z-30"
    x-show="open"
    x-transition.opacity
    @click="open = false"
    style="display: none"
  ></div>
  <!-- Sidebar toggle button (mobile) -->
  <button
    @click="open = true"
    class="fixed top-4 left-4 z-50 md:hidden p-2 rounded-full bg-dark-900/80 text-white shadow-lg hover:bg-primary-500/20 transition"
    aria-label="Open navigation"
    x-show="!open"
    style="display: none"
  >
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path
        d="M4 6h16M4 12h16M4 18h16"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    </svg>
  </button>
</div>
