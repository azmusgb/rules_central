{% extends "base.html" %}

{% block title %}Rules Central - Full Documentation{% endblock %}

{% block head %}

{% endblock %}

{% block hero_title %}Rules Central Documentation{% endblock %}
{% block hero_subtitle %}Complete guide to all features and functionality - Version {{ config.VERSION }}{% endblock %}

{% block content %}
<div class="content-wrapper container mx-auto px-4 sm:px-6">
    <!-- Main Grid Layout -->
    <div class="doc-grid gap-6">
        <!-- Table of Contents -->
        <div class="toc-container">
            <div class="doc-card">
                <div class="doc-header">
                    <h2><i class="fas fa-book icon"></i> Documentation Topics</h2>
                </div>
                <div class="doc-body">
                    <ul class="toc-list">
                        <li class="toc-item">
                            <a class="toc-link" href="#getting_started">
                                <i class="fas fa-play icon"></i> Getting Started
                            </a>
                        </li>
                        <li class="toc-item">
                            <a class="toc-link" href="#dashboard">
                                <i class="fas fa-tachometer-alt icon"></i> Dashboard
                            </a>
                        </li>
                        <li class="toc-item">
                            <a class="toc-link" href="#catalog">
                                <i class="fas fa-folder icon"></i> Diagram Catalog
                            </a>
                        </li>
                        <li class="toc-item">
                            <a class="toc-link" href="#search">
                                <i class="fas fa-search icon"></i> Search Diagrams
                            </a>
                        </li>
                        <li class="toc-item">
                            <a class="toc-link" href="#upload">
                                <i class="fas fa-upload icon"></i> Upload JSON
                            </a>
                        </li>
                        <li class="toc-item">
                            <a class="toc-link" href="#diagram_viewer">
                                <i class="fas fa-project-diagram icon"></i> Diagram Viewer
                            </a>
                        </li>
                        <li class="toc-item">
                            <a class="toc-link" href="#hierarchy_viewer">
                                <i class="fas fa-sitemap icon"></i> Hierarchy Viewer
                            </a>
                        </li>
                        <li class="toc-item">
                            <a class="toc-link" href="#theme_manager">
                                <i class="fas fa-palette icon"></i> Theme Manager
                            </a>
                        </li>
                        <li class="toc-item">
                            <a class="toc-link" href="#faq">
                                <i class="fas fa-question-circle icon"></i> FAQ
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div>
            <!-- Introduction Section -->
            <div class="content-section">
                <div class="section-header">
                    <h2>Rules Central Documentation</h2>
                </div>
                <div class="section-content">
                    <p>Welcome to the complete documentation for Rules Central. This guide covers all features and
                        functionality of the application—from diagram management to rule extraction and
                        visualization.</p>
                    <p>Use the navigation on the left to explore different sections, or start with the Getting Started
                        guide below.</p>
                </div>
            </div>

            <!-- Getting Started -->
            <section class="content-section" id="getting_started">
                <div class="section-header">
                    <h2>Getting Started</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content">
                    <h3>Introduction</h3>
                    <p>Rules Central is a comprehensive platform for managing, analyzing, and visualizing business rules
                        through diagrams. The system supports various diagram types including flowcharts, sequence
                        diagrams, class diagrams, and state diagrams.</p>

                    <h3>Key Features</h3>
                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4><i class="fas fa-cloud-upload-alt icon"></i> Upload Capabilities</h4>
                            <p>Upload JSON files containing diagram definitions for processing and visualization.</p>
                        </div>
                        <div class="feature-card">
                            <h4><i class="fas fa-search icon"></i> Advanced Search</h4>
                            <p>Search across all diagrams with filters for catalog and diagram type.</p>
                        </div>
                        <div class="feature-card">
                            <h4><i class="fas fa-folder-open icon"></i> Diagram Catalog</h4>
                            <p>Browse and manage all available diagram visualizations in a structured catalog.</p>
                        </div>
                        <div class="feature-card">
                            <h4><i class="fas fa-paint-brush icon"></i> Theme Customization</h4>
                            <p>Customize diagram styles with the Theme Manager for consistent visualizations.</p>
                        </div>
                    </div>

                    <div class="tip-box tip-pro">
                        <h4><i class="fas fa-lightbulb icon"></i> Pro Tip</h4>
                        <p>Bookmark this documentation page for quick reference as you explore Rules Central's
                            features.</p>
                    </div>

                    <h3>System Requirements</h3>
                    <ul>
                        <li>Modern web browser (Chrome, Firefox, Safari, Edge)</li>
                        <li>Internet connection for initial setup</li>
                        <li>JavaScript enabled</li>
                    </ul>
                </div>
            </section>

            <!-- Dashboard -->
            <section class="content-section" id="dashboard">
                <div class="section-header">
                    <h2>Dashboard</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content">
                    <p>The Dashboard is your central hub for accessing all features of Rules Central. It provides quick
                        access to key functionalities through categorized cards.</p>

                    <h3>Main Sections</h3>
                    <div class="grid grid-cols-1 gap-4 mt-4">
                        <div class="flex items-start bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <div class="bg-primary-500/10 p-2 rounded-lg mr-4">
                                <i class="fas fa-edit text-primary-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-2">Create & Upload</h4>
                                <p class="text-sm text-slate-400">Upload diagrams or extract rules from files with
                                    intelligent processing.</p>
                                <ul class="text-sm text-slate-400 mt-2 list-disc pl-5">
                                    <li>Upload Diagrams – Add new diagram files to the system</li>
                                    <li>Rule Extraction – Extract rules from various file formats</li>
                                </ul>
                            </div>
                        </div>

                        <div class="flex items-start bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <div class="bg-purple-500/10 p-2 rounded-lg mr-4">
                                <i class="fas fa-search text-purple-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-2">Explore & Analyze</h4>
                                <p class="text-sm text-slate-400">Search rules or browse the catalog with advanced
                                    filtering.</p>
                                <ul class="text-sm text-slate-400 mt-2 list-disc pl-5">
                                    <li>Search Rules – Find specific rules across all diagrams</li>
                                    <li>Rule Catalog – Browse all available rules in a structured view</li>
                                </ul>
                            </div>
                        </div>

                        <div class="flex items-start bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <div class="bg-red-500/10 p-2 rounded-lg mr-4">
                                <i class="fas fa-tools text-red-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold text-white mb-2">Tools & Utilities</h4>
                                <p class="text-sm text-slate-400">Test API endpoints and customize visualization
                                    settings.</p>
                                <ul class="text-sm text-slate-400 mt-2 list-disc pl-5">
                                    <li>API Test Utility – Test API endpoints directly</li>
                                    <li>Style Configurator – Customize diagram appearance</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Diagram Catalog -->
            <section class="content-section" id="catalog">
                <div class="section-header">
                    <h2>Diagram Catalog</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content">
                    <p>The Diagram Catalog provides a comprehensive view of all available diagrams in the system,
                        organized by categories for easy navigation.</p>

                    <h3>Key Features</h3>
                    <ul>
                        <li><strong>Category Navigation:</strong> Browse diagrams by category with the sticky navigation
                            bar
                        </li>
                        <li><strong>Advanced Search:</strong> Search diagrams by name, description, or tags with
                            highlighted results
                        </li>
                        <li><strong>Filtering:</strong> Filter by diagram type (Flow, Sequence, State diagrams)</li>
                        <li><strong>Expand/Collapse:</strong> Control visibility of diagram groups with expand/collapse
                            all buttons
                        </li>
                    </ul>

                    <div class="tip-box tip-note">
                        <h4><i class="fas fa-info-circle icon"></i> Note</h4>
                        <p>The search function supports partial matches and highlights found terms in the results. Try
                            searching for keywords related to your business rules.</p>
                    </div>

                    <h3>Using the Catalog</h3>
                    <ol>
                        <li>Use the search bar at the top to find specific diagrams</li>
                        <li>Click on the "Filters" button to narrow down by diagram type</li>
                        <li>Browse through categories using the navigation bar (desktop only)</li>
                        <li>Click on any diagram name to view it in the Diagram Viewer</li>
                        <li>Use "Expand All" or "Collapse All" to control category visibility</li>
                    </ol>
                </div>
            </section>

            <!-- Search -->
            <section class="content-section" id="search">
                <div class="section-header">
                    <h2>Search Diagrams</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content">
                    <p>The Search functionality allows you to find diagrams across the entire system using keywords,
                        with options for advanced filtering.</p>

                    <h3>Search Options</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-search mr-2 text-primary-400"></i> Basic Search
                            </h4>
                            <p class="text-sm text-slate-400">Enter keywords in the search box to find matching
                                diagrams. The search looks at:</p>
                            <ul class="text-sm text-slate-400 mt-2 list-disc pl-5">
                                <li>Diagram names</li>
                                <li>Diagram content</li>
                                <li>Associated metadata</li>
                            </ul>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-sliders-h mr-2 text-purple-400"></i> Advanced Search
                            </h4>
                            <p class="text-sm text-slate-400">Click the "Advanced" button to reveal additional
                                filters:</p>
                            <ul class="text-sm text-slate-400 mt-2 list-disc pl-5">
                                <li><strong>Catalog:</strong> Filter by specific catalog</li>
                                <li><strong>Diagram Type:</strong> Filter by flowchart, sequence diagram, class diagram,
                                    or state diagram
                                </li>
                            </ul>
                        </div>
                    </div>

                    <h3>Search Results</h3>
                    <p>Results are displayed as cards showing:</p>
                    <ul>
                        <li>Diagram name</li>
                        <li>Preview image</li>
                        <li>Relevant excerpt with highlighted search terms</li>
                        <li>Diagram type indicator</li>
                    </ul>

                    <div class="tip-box tip-warning">
                        <h4><i class="fas fa-exclamation-triangle icon"></i> Search Tips</h4>
                        <ul class="list-disc pl-5">
                            <li>Use quotation marks for exact phrases</li>
                            <li>Try different keyword combinations if you don't find what you're looking for</li>
                            <li>Clear filters with the "Clear all filters" button when starting a new search</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Upload -->
            <section class="content-section" id="upload">
                <div class="section-header">
                    <h2>Upload JSON Diagrams</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content">
                    <p>The Upload section allows you to add new JSON diagram files to the system for processing and
                        visualization.</p>

                    <h3>Upload Methods</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-mouse-pointer mr-2 text-green-400"></i> Drag and Drop
                            </h4>
                            <p class="text-sm text-slate-400">Simply drag your JSON files and drop them into the
                                designated zone.</p>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-folder-open mr-2 text-blue-400"></i> File Selection
                            </h4>
                            <p class="text-sm text-slate-400">Click the "Select JSON Files" button to browse and select
                                files from your computer.</p>
                        </div>
                    </div>

                    <h3>File Requirements</h3>
                    <ul>
                        <li>Only valid JSON files with the .json extension are accepted</li>
                        <li>Files must follow the expected diagram structure</li>
                        <li>Maximum file size: 10MB</li>
                        <li>You can upload multiple files at once</li>
                    </ul>

                    <div class="tip-box tip-pro">
                        <h4><i class="fas fa-check-circle icon"></i> Success Tips</h4>
                        <ul class="list-disc pl-5">
                            <li>Ensure your JSON is properly formatted before uploading</li>
                            <li>For large files, consider breaking them into smaller chunks</li>
                            <li>Check the console for detailed error messages if upload fails</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Diagram Viewer -->
            <section class="content-section" id="diagram_viewer">
                <div class="section-header">
                    <h2>Diagram Viewer</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content">
                    <p>The Diagram Viewer provides an interactive interface for exploring and working with individual
                        diagrams.</p>

                    <h3>Key Features</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-search-plus mr-2 text-yellow-400"></i> Zoom Controls
                            </h4>
                            <p class="text-sm text-slate-400">Use the zoom in, zoom out, and reset zoom buttons to
                                control diagram scale.</p>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-search mr-2 text-blue-400"></i> Diagram Search
                            </h4>
                            <p class="text-sm text-slate-400">Search within the current diagram for specific elements or
                                text.</p>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-adjust mr-2 text-purple-400"></i> Theme Toggle
                            </h4>
                            <p class="text-sm text-slate-400">Switch between light and dark themes for better
                                visibility.</p>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-edit mr-2 text-green-400"></i> Editor Mode
                            </h4>
                            <p class="text-sm text-slate-400">Toggle the editor to view and modify the diagram source
                                code.</p>
                        </div>
                    </div>

                    <div class="tip-box tip-note">
                        <h4><i class="fas fa-magic icon"></i> Advanced Usage</h4>
                        <p>In editor mode, you can modify the diagram source code and see changes in real-time. This is
                            useful for quick adjustments and experimentation.</p>
                    </div>
                </div>
            </section>

            <!-- Hierarchy Viewer -->
            <section class="content-section" id="hierarchy_viewer">
                <div class="section-header">
                    <h2>Hierarchy Viewer</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content">
                    <p>The Hierarchy Viewer displays rule structures in a tree format, allowing you to explore
                        relationships and dependencies between rules.</p>

                    <h3>Interface Overview</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white mb-3">Tree Panel</h4>
                            <ul class="text-sm text-slate-400 list-disc pl-5">
                                <li>Interactive tree structure of rules</li>
                                <li>Click nodes to expand/collapse</li>
                                <li>Selected node is highlighted</li>
                                <li>Search functionality to find specific rules</li>
                            </ul>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white mb-3">Details Panel</h4>
                            <ul class="text-sm text-slate-400 list-disc pl-5">
                                <li>Displays attributes of selected rule</li>
                                <li>Shows associated actions</li>
                                <li>Option to view raw JSON data</li>
                            </ul>
                        </div>
                    </div>

                    <h3>Navigation Controls</h3>
                    <ul>
                        <li><strong>Expand All:</strong> Expands the entire tree structure</li>
                        <li><strong>Collapse All:</strong> Collapses the entire tree structure</li>
                        <li><strong>Search:</strong> Find rules by name or content</li>
                        <li><strong>Reset:</strong> Clear search filters and selections</li>
                    </ul>
                </div>
            </section>

            <!-- Theme Manager -->
            <section class="content-section" id="theme_manager">
                <div class="section-header">
                    <h2>Theme Manager</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content">
                    <p>The Theme Manager allows you to customize the visual appearance of diagrams with color schemes
                        and styling options.</p>

                    <h3>Theme Management</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-plus mr-2 text-green-400"></i> Create New
                            </h4>
                            <p class="text-sm text-slate-400">Start fresh or base on existing themes.</p>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-copy mr-2 text-blue-400"></i> Duplicate
                            </h4>
                            <p class="text-sm text-slate-400">Make copies of existing themes for modification.</p>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-trash mr-2 text-red-400"></i> Delete
                            </h4>
                            <p class="text-sm text-slate-400">Remove unused themes from the system.</p>
                        </div>
                    </div>

                    <h3>Customization Options</h3>
                    <div class="grid grid-cols-1 gap-4 mt-4">
                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-palette mr-2 text-purple-400"></i> Colors Tab
                            </h4>
                            <ul class="text-sm text-slate-400 list-disc pl-5">
                                <li>Customize node colors by type (Disabled, Diamond, Set, Plug, Rectangle)</li>
                                <li>Edit text and border colors for each node type</li>
                                <li>Adjust edge colors and width</li>
                                <li>Live preview of node styles</li>
                            </ul>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-sliders-h mr-2 text-yellow-400"></i> Advanced Tab
                            </h4>
                            <p class="text-sm text-slate-400">Edit raw Mermaid classDef syntax for complete control over
                                styling.</p>
                        </div>

                        <div class="bg-dark-800 p-4 rounded-lg border border-slate-700">
                            <h4 class="font-semibold text-white flex items-center mb-3">
                                <i class="fas fa-eye mr-2 text-blue-400"></i> Preview Tab
                            </h4>
                            <p class="text-sm text-slate-400">See live preview of your theme with different layout
                                options (Top-Down, Left-Right, etc.).</p>
                        </div>
                    </div>

                    <div class="tip-box tip-pro">
                        <h4><i class="fas fa-paint-brush icon"></i> Design Tips</h4>
                        <ul class="list-disc pl-5">
                            <li>Use consistent colors for similar node types</li>
                            <li>Ensure sufficient contrast between text and background colors</li>
                            <li>Test your themes with different diagram types</li>
                            <li>Export your themes before making major changes</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- FAQ -->
            <section class="content-section" id="faq">
                <div class="section-header">
                    <h2>Frequently Asked Questions</h2>
                    <a class="text-sm text-primary-400 hover:text-primary-300" href="#">Back to top</a>
                </div>
                <div class="section-content space-y-6">
                    <div>
                        <h3>What is Rules Central?</h3>
                        <p>Rules Central is a platform for managing, analyzing, and visualizing business rules through diagrams.</p>
                    </div>
                    <div>
                        <h3>How do I upload a diagram?</h3>
                        <p>Go to the <a href="/upload" class="text-primary-400 hover:underline">Upload</a> page and drag & drop JSON files or select them from your computer.</p>
                    </div>
                    <div>
                        <h3>How do I extract rules from FormWorks documents?</h3>
                        <p>Use the <a href="/rules_extraction_utility" class="text-primary-400 hover:underline">Rules Extraction Utility</a> to process FormWorks documents.</p>
                    </div>
                    <div>
                        <h3>Can I customize diagram themes?</h3>
                        <p>Yes. Visit the <a href="/config" class="text-primary-400 hover:underline">Theme Manager</a> to create or modify themes.</p>
                    </div>
                    <div>
                        <h3>Where can I get additional support?</h3>
                        <p>Check the <a href="/full-help" class="text-primary-400 hover:underline">documentation</a> or email <a href="mailto:support@rulescentral.com" class="text-primary-400 hover:underline">support@rulescentral.com</a>.</p>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script defer src="{{ url_for('static', filename='js/documentation.js') }}"></script>
{% endblock %}
