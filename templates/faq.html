{% extends "base.html" %}

{% block title %}FAQ | Rules Central{% endblock title %}
{% block description %}Quick answers to the most common Rules Central questions.{% endblock description %}

{% block content %}

<!-- =========================================================
     HERO
========================================================= -->
<header class="wrapper rc-container pt-24 pb-8 text-center space-y-4 rc-faq-hero">
  <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight leading-tight bg-gradient-to-br from-primary-500 to-primary-700 dark:from-primary-300 dark:to-primary-500 bg-clip-text text-transparent">
    Frequently Asked Questions
  </h1>
  <p class="text-base md:text-lg text-slate-600 dark:text-slate-300 max-w-xl mx-auto leading-relaxed">
    Quick answers, helpful links, and tips for getting the most out of Rules Central.
  </p>

  <!-- Quick contact + Expand / Collapse controls -->
  <div class="rc-faq-hero-actions">
    <a href="{{ url_for('main.contact') }}" class="rc-faq-contact">Contact Support</a>
    <button type="button" id="rc-faq-expand"   class="rc-faq-expand">Expand all</button>
    <button type="button" id="rc-faq-collapse" class="rc-faq-collapse">Collapse all</button>
  </div>

  <!-- Client-side filter -->
  <div class="rc-faq-filterwrap">
    <label for="rc-faq-filter" class="sr-only">Filter questions</label>
    <input id="rc-faq-filter"
           type="search"
           placeholder="Search questionsâ€¦"
           class="rc-faq-filter-input"
           autocomplete="off"
           spellcheck="false">
  </div>
</header>


<!-- =========================================================
     FAQ LIST
========================================================= -->
<section class="wrapper rc-container pb-32 rc-faq-listwrap" aria-label="FAQ list">
  <ul class="rc-faq-list" id="rc-faq-list" role="list">
    <!-- Q1 -->
    <li class="rc-faq-item" data-faq-text="what is rules central platform manage visualizing collaborating business rules">
      <details>
        <summary>
          <span class="rc-faq-q">What is Rules Central?</span>
        </summary>
        <div class="rc-faq-a">
          Rules Central is a platform for managing, visualizing, and collaborating on business rules across teams and systems.
        </div>
      </details>
    </li>

    <!-- Q2 -->
    <li class="rc-faq-item" data-faq-text="file types supported upload png jpg jpeg svg pdf mermaid json">
      <details>
        <summary>
          <span class="rc-faq-q">What file types are supported?</span>
        </summary>
        <div class="rc-faq-a">
          You can upload <code>PNG</code>, <code>JPG</code>/<code>JPEG</code>, <code>SVG</code>, or <code>PDF</code> diagrams. JSON + Mermaid (<code>.mmd</code>) exports are also accepted where available.
        </div>
      </details>
    </li>

    <!-- Q3 -->
    <li class="rc-faq-item" data-faq-text="view hierarchy relationships">
      <details>
        <summary>
          <span class="rc-faq-q">How do I view the hierarchy?</span>
        </summary>
        <div class="rc-faq-a">
          Open a diagram and click the <span class="rc-faq-accent">Hierarchy</span> button to explore rule relationships visually and navigate dependencies.
        </div>
      </details>
    </li>

    <!-- Q4 -->
    <li class="rc-faq-item" data-faq-text="export diagrams download image raw">
      <details>
        <summary>
          <span class="rc-faq-q">Can I export diagrams?</span>
        </summary>
        <div class="rc-faq-a">
          Yes. In the diagram viewer, use <strong>Export</strong> to download an image, a vector file, or the underlying rule data (where supported).
        </div>
      </details>
    </li>

    <!-- Q5 -->
    <li class="rc-faq-item" data-faq-text="share diagrams team link">
      <details>
        <summary>
          <span class="rc-faq-q">How do I share diagrams?</span>
        </summary>
        <div class="rc-faq-a">
          Open a diagram and copy its URL or click <strong>Share</strong> to generate a shareable link for teammates (permissions apply).
        </div>
      </details>
    </li>

    <!-- Q6 -->
    <li class="rc-faq-item" data-faq-text="api programmatic access documentation endpoints">
      <details>
        <summary>
          <span class="rc-faq-q">Is there an API?</span>
        </summary>
        <div class="rc-faq-a">
          Yes. See the <a href="{{ url_for('routes.full_help') }}#api" class="rc-faq-link">API section</a> in the documentation for authentication and endpoint details.
        </div>
      </details>
    </li>

    <!-- Q7 -->
    <li class="rc-faq-item" data-faq-text="get started signup upload first diagram dashboard">
      <details>
        <summary>
          <span class="rc-faq-q">How do I get started?</span>
        </summary>
        <div class="rc-faq-a">
          Sign up, upload your first diagram, and review the dashboard metrics for quick insights. The <a href="{{ url_for('routes.full_help') }}#getting-started" class="rc-faq-link">Get Started guide</a> walks through the basics.
        </div>
      </details>
    </li>

    <!-- Q8 -->
    <li class="rc-faq-item" data-faq-text="upload diagram drag drop browse files">
      <details>
        <summary>
          <span class="rc-faq-q">How do I upload a diagram?</span>
        </summary>
        <div class="rc-faq-a">
          Go to the <a href="{{ url_for('upload.upload_file') }}" class="rc-faq-link">Upload</a> page and drag &amp; drop your file, paste from clipboard, or browse from your computer.
        </div>
      </details>
    </li>

    <!-- Q9 -->
    <li class="rc-faq-item" data-faq-text="reset password forgot email">
      <details>
        <summary>
          <span class="rc-faq-q">How do I reset my password?</span>
        </summary>
        <div class="rc-faq-a">
          On the login page, click <span class="rc-faq-accent">Forgot password</span> and follow the emailed reset link.
        </div>
      </details>
    </li>

    <!-- Q10 -->
    <li class="rc-faq-item" data-faq-text="keyboard shortcut help shift slash">
      <details>
        <summary>
          <span class="rc-faq-q">Is there a keyboard shortcut for help?</span>
        </summary>
        <div class="rc-faq-a">
          Yes. Press <kbd>Shift</kbd> + <kbd>/</kbd> anywhere in the app to open the help overlay.
        </div>
      </details>
    </li>

    <!-- Q11 -->
    <li class="rc-faq-item" data-faq-text="customize diagram themes color settings">
      <details>
        <summary>
          <span class="rc-faq-q">Can I customize diagram themes?</span>
        </summary>
        <div class="rc-faq-a">
          Absolutely. Visit <a href="/settings" class="rc-faq-link">Settings</a> to create or modify themes (colors, shapes, and typography vary by plan).
        </div>
      </details>
    </li>

    <!-- Q12 -->
    <li class="rc-faq-item" data-faq-text="support documentation email contact">
      <details>
        <summary>
          <span class="rc-faq-q">Where can I get support?</span>
        </summary>
        <div class="rc-faq-a">
          Start with the <a href="{{ url_for('routes.full_help') }}" class="rc-faq-link">documentation</a>. Still stuck? Email <a href="mailto:support@rulescentral.com" class="rc-faq-link">support@rulescentral.com</a> or <a href="{{ url_for('main.contact') }}" class="rc-faq-link">contact us</a>.
        </div>
      </details>
    </li>
  </ul>
</section>

{% endblock content %}



{% block styles %}
<style>
/* ============================================================
   FAQ Page Styles (inline fallback; theme-aware)
   ============================================================ */
.rc-faq-hero-actions{display:inline-flex;flex-wrap:wrap;gap:.75rem;justify-content:center;margin-top:.5rem;font-size:.875rem}
.rc-faq-contact,
.rc-faq-expand,
.rc-faq-collapse{padding:.375rem .875rem;border-radius:9999px;font-weight:600;line-height:1.25;font-size:.875rem;text-decoration:none;cursor:pointer;border:1px solid color-mix(in srgb,var(--rc-accent,#f43f5e) 60%,transparent);color:var(--rc-accent,#f43f5e);background:transparent;transition:background .12s ease,color .12s ease}
.rc-faq-contact:hover,
.rc-faq-expand:hover,
.rc-faq-collapse:hover{background:color-mix(in srgb,var(--rc-accent,#f43f5e) 15%,transparent)}
.rc-faq-expand,
.rc-faq-collapse{border-style:dashed}
.rc-faq-collapse{display:none}/* toggled by JS */

.rc-faq-filterwrap{margin-top:1.5rem}
.rc-faq-filter-input{
  width:100%;max-width:22rem;
  padding:.75rem 1.25rem;
  border-radius:9999px;
  font-size:1rem;
  border:1px solid var(--rc-border-light,rgba(0,0,0,.15));
  background:#fff;
  color:#0f172a;
  transition:border-color .15s ease,box-shadow .15s ease;
}
html.dark .rc-faq-filter-input{
  background:rgb(30 41 59/.9);
  color:#f1f5f9;
  border-color:var(--rc-border-dark,rgba(255,255,255,.15));
}
.rc-faq-filter-input:focus{outline:none;border-color:var(--rc-accent,#f43f5e);box-shadow:0 0 0 3px color-mix(in srgb,var(--rc-accent,#f43f5e) 35%,transparent)}

/* FAQ list ------------------------------------------------------ */
.rc-faq-listwrap{max-width:48rem}
.rc-faq-list{margin:0;padding:0;list-style:none;display:grid;gap:1rem}
.rc-faq-item details{
  border:1px solid var(--rc-border-light,rgba(0,0,0,.1));
  border-radius:1rem;
  background:var(--rc-surface-1-light,#fff);
  padding:.75rem 1rem;
  transition:all .12s ease;
}
html.dark .rc-faq-item details{background:rgb(30 41 59/.75);border-color:var(--rc-border-dark,rgba(255,255,255,.1))}
.rc-faq-item details[open]{background:var(--rc-surface-2-light,#f8fafc)}
html.dark .rc-faq-item details[open]{background:rgb(30 41 59/.9);box-shadow:0 4px 24px rgb(0 0 0/.35)}
.rc-faq-item summary{list-style:none;cursor:pointer;display:flex;align-items:center;gap:.75rem;position:relative;padding-right:2rem;font-size:1.125rem;font-weight:600;line-height:1.25;color:rgb(30 41 59)}
html.dark .rc-faq-item summary{color:rgb(241 245 249)}
.rc-faq-item summary::-webkit-details-marker{display:none}
.rc-faq-item summary::after{
  content:"";position:absolute;right:0;width:1rem;height:1rem;
  mask:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' stroke='white' stroke-width='2' fill='none' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='4,6 8,10 12,6'/%3E%3C/svg%3E") no-repeat center/contain;
  background:currentColor;opacity:.6;transition:transform .15s ease,opacity .15s ease;
}
.rc-faq-item details[open] summary::after{transform:rotate(180deg);opacity:1}

.rc-faq-a{margin-top:.75rem;font-size:1rem;line-height:1.55;color:rgb(71 85 105)}
html.dark .rc-faq-a{color:rgb(203 213 225)}
.rc-faq-link{text-decoration:underline;color:var(--rc-accent,#f43f5e)}
.rc-faq-link:hover{text-decoration:none}
.rc-faq-accent{color:var(--rc-accent,#f43f5e);font-weight:600}

.rc-faq-item.rc-faq-hidden{display:none}
</style>
{% endblock styles %}



{% block scripts %}
  {{ super() }}
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const list       = document.getElementById('rc-faq-list');
    const filter     = document.getElementById('rc-faq-filter');
    const expandBtn  = document.getElementById('rc-faq-expand');
    const collapseBtn= document.getElementById('rc-faq-collapse');

    const items = Array.from(list.querySelectorAll('.rc-faq-item'));

    /* --- Filter -------------------------------------------------- */
    function applyFilter(){
      const q = (filter.value || '').trim().toLowerCase();
      let visibleCount = 0;
      items.forEach(li=>{
        const hay = li.dataset.faqText;
        const show = !q || (hay && hay.toLowerCase().includes(q));
        li.classList.toggle('rc-faq-hidden', !show);
        if (show) visibleCount++;
      });
      // auto-collapse unmatched open details to save layout
      if (q){
        items.forEach(li=>{
          if (li.classList.contains('rc-faq-hidden')){
            const deets = li.querySelector('details[open]');
            if (deets) deets.open = false;
          }
        });
      }
      return visibleCount;
    }
    filter?.addEventListener('input', applyFilter);

    /* --- Expand / Collapse all ---------------------------------- */
    function setAll(open){
      items.forEach(li=>{
        const deets = li.querySelector('details');
        if (deets) deets.open = open;
      });
      expandBtn.style.display   = open ? 'none' : '';
      collapseBtn.style.display = open ? '' : 'none';
    }
    expandBtn?.addEventListener('click', ()=>setAll(true));
    collapseBtn?.addEventListener('click', ()=>setAll(false));

    /* initialize */
    applyFilter();
  });
  </script>
{% endblock scripts %}
