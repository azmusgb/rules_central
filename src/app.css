@tailwind base;
@tailwind components;
@tailwind utilities;
@layer base {
  :root {
    color-scheme: light dark;
    scroll-behavior: smooth;
    /* Theme-aware colors */
    --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
    --bg: #111827;
    --bg-elevated: #1f2937;
    --bg-surface: #374151;
    --bg-overlay: #111827;
    --text: #e5e7eb;
    --border: #4b5563;
    --focus-ring: #3b82f6;
    --primary-500: #3b82f6;
    --primary-600: #2563eb;
    --primary-700: #1d4ed8;
    --primary-800: #1e40af;
    --secondary-400: #a78bfa;
    --secondary-700: #6d28d9;
  }

  [data-theme="light"] {
    --bg: #f3f4f6;
    --bg-elevated: #e5e7eb;
    --bg-surface: #d1d5db;
    --bg-overlay: #ffffff;
    --text: #1f2937;
    --border: #d1d5db;
    --focus-ring: #2563eb;
  }

  [data-theme="bear"] {
    --bg: #fffdfa;
    --bg-elevated: #fff5ef;
    --bg-surface: #fffaf7;
    --bg-overlay: #fdefe6;
    --text: #40322f;
    --border: #ffd4c7;
    --focus-ring: #FF5E62;
    --primary-500: #FF5E62;
    --primary-600: #FF5E62;
    --primary-700: #E04E4D;
    --primary-800: #B03737;
    --secondary-400: #FFC371;
    --secondary-700: #E89E5E;
    --font-sans: 'Nunito', 'Inter', sans-serif;
  }

  body {
    background-color: var(--bg);
    color: var(--text);
    @apply font-sans antialiased;
    font-family: var(--font-sans);
    min-height: 100dvh;
  }

  [data-focus-visible-added] {
    outline: none;
    box-shadow: 0 0 0 2px var(--focus-ring);
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      transition: none !important;
      animation: none !important;
    }
  }
}

@layer components {
  /* Cards */
  .card {
    background-color: var(--bg-elevated);
    border: 1px solid var(--border);
    @apply rounded-xl shadow-sm transition-all duration-200 hover:shadow-md hover:-translate-y-1;
    
    &--glass {
      background-color: var(--bg-overlay);
      @apply backdrop-blur-lg;
      border-color: var(--border);
    }
    
    &--compact {
      @apply rounded-md p-4 shadow-none;
    }
  }

  /* Buttons */
  .btn {
    @apply px-4 py-2 rounded-md font-medium transition-all duration-200 hover:scale-105 focus:ring-2;
    --tw-ring-color: var(--focus-ring);
  
    &-primary {
      @apply bg-primary-600 text-white hover:bg-primary-700;
    }
    
    &-outline {
      @apply bg-transparent border border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white;
    }
  }

  /* Forms */
  .input {
    background-color: var(--bg-surface);
    border: 1px solid var(--border);
    @apply rounded-md px-3 py-2 w-full transition-all;
  }
  .input:focus {
    outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 2px var(--primary-500);
  }

  /* Skeleton for loading states */
  .skeleton {
    @apply bg-gradient-to-r from-gray-700 to-gray-600 animate-pulse rounded-md;
  }

  /* Glass effect utility */
  .glass-effect {
    background-color: var(--bg-overlay);
    @apply backdrop-blur-lg rounded-xl;
    border: 1px solid var(--border);
  }
}

@layer utilities {
  /* Custom spacing utilities */
  .space-x-6 > * + * {
    margin-left: 1.5rem;
  }
  .space-y-6 > * + * {
    margin-top: 1.5rem;
  }
}
